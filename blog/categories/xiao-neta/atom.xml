<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 小ネタ | κeenのHappy Hacκing Blog]]></title>
  <link href="http://KeenS.github.io/blog/categories/xiao-neta/atom.xml" rel="self"/>
  <link href="http://KeenS.github.io/"/>
  <updated>2013-12-16T22:39:11+09:00</updated>
  <id>http://KeenS.github.io/</id>
  <author>
    <name><![CDATA[κeen]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[rsync小ネタ]]></title>
    <link href="http://KeenS.github.io/blog/2013/11/30/something-about-rsync/"/>
    <updated>2013-11-30T21:51:00+09:00</updated>
    <id>http://KeenS.github.io/blog/2013/11/30/something-about-rsync</id>
    <content type="html"><![CDATA[<p><a href="/blog/2013/11/13/what-recent/">mpdを導入したとき</a>にrsyncでパーミッションの問題が発生したと言ってましたが解決策がありました。</p>

<!-- more -->


<p>まず基本。</p>

<p><code>rsync</code>でバックアップをとるときは</p>

<pre><code>rsync -avz dir/ me@remote:backup
</code></pre>

<p>です。<code>dir</code>のあとの<code>/</code>は重要です。<code>dir</code>自体か<code>dir</code>の中身かを左右します。<code>zsh</code>はそこんとこイマイチ理解してないようで悲しいです。因みに<code>-a</code>は<code>-rltogpD</code>の略です。でも今回みたいにパーミッションを含めたくないときは</p>

<pre><code>rsync -rltogD -vz dir/ me@remote:backup
</code></pre>

<p>と<code>-p</code>を抜くかと思いきや、</p>

<pre><code>rsync -avz --no-p dir/ me@remote:backup
</code></pre>

<p>なる記法があるそうです。便利ですね。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[tiarraにercで接続したときの/loadの問題]]></title>
    <link href="http://KeenS.github.io/blog/2013/10/06/tiarra-erc/"/>
    <updated>2013-10-06T00:35:00+09:00</updated>
    <id>http://KeenS.github.io/blog/2013/10/06/tiarra-erc</id>
    <content type="html"><![CDATA[<p><a href="http://www.clovery.jp/tiarra/">tiarra</a>に<a href="http://www.emacswiki.org/ERC">erc</a>で接続したときの/loadの問題。</p>

<!-- more -->


<p>tiarraは有名なircプロキシ。ercはEmacs上で動くircクライアント。これらを使っているとtiarraが自動でログインしてくれないのでおかしいなと思っていたらtiarraの自動ログインモジュールを有効にしていなかった模様。</p>

<p>書き換えていざ設定を反映しようとすると若干困りました。どこに<code>/load</code>と打てばいいんだろ。</p>

<p>最初に誘導されるバッファ(ircバッファ名がプロキシサーバー名になってるやつ)に<code>/load</code>と打つと</p>

<pre><code>ERC&gt; /load
Incorrect arguments. Usage:
/LOAD line
Load the script provided in the LINE.
If LINE continues beyond the file name, the rest of
it is put in a (local) variable `erc-script-args',
which can be used in Emacs Lisp scripts.

The optional FORCE argument is ignored here - you can't force loading
a script after exceeding the flood threshold.
</code></pre>

<p>ですって。ああ…。<code>/load</code>コマンドがercに食われてる…</p>

<p>流石に解決策あるだろって思って調べたら</p>

<pre><code>/quote load
</code></pre>

<p>だそうです。</p>

<pre><code>ERC&gt; /quote load
-192.168.1.4- *** Reloaded configuration file.
-192.168.1.4- *** Module Channel::Join::Connect will be loaded newly.
</code></pre>

<p>はい。ちゃんとloadしてくれました。</p>

<p>以上小ネタでした。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FreeBSD10でちょっとこけた]]></title>
    <link href="http://KeenS.github.io/blog/2013/09/12/error-on-svn/"/>
    <updated>2013-09-12T23:21:00+09:00</updated>
    <id>http://KeenS.github.io/blog/2013/09/12/error-on-svn</id>
    <content type="html"><![CDATA[<p>FreeBSD10をインストールしてたときにちょっとつまったところがあったのでメモ。</p>

<!-- more -->


<h2>(前回までのあらすじ)</h2>

<p>FreeBSD10をインストールしたkvmのイメージでFreeBSDのソースをコンパイルできなくなっていたのでκeenはイメージに最新のFreeBSDを上書きインストールすることを決意したのであった</p>

<h2>今回</h2>

<p><a href="https://pub.allbsd.org/FreeBSD-snapshots/">https://pub.allbsd.org/FreeBSD-snapshots/</a>から最新版isoをダウンロードして</p>

<pre><code>$ kvm -cdrom ~/Download/FreeBSD-10.0-HEAD-r255472-JPSNAP-i386-i386-disc1.iso -boot d -m 2048 -smp 3 FreeBSD10.img
</code></pre>

<p>でブート&amp;インストール。普通にインストーラに従って問題無し。<br/>
もう一度</p>

<pre><code>$ kvm -m 2048 -smp 3 FreeBSD10.img
</code></pre>

<p>でブート。<code>/usr/src</code>が空なのを確認して、最近標準添付になったsvnliteでソースをチェックアウト。</p>

<pre><code># cd /usr
# rmdir src
# svnlite co https://svn0.us-west.FreeBSD.org/base/head src
</code></pre>

<p>で、エラー。<br/>
内容は</p>

<blockquote><p>server sent a truncated http response body.</p></blockquote>

<p>不明。<code>svn(lite)</code>のエラーらしいことは分った。<code>https:</code>が悪い気がするので<code>http:</code>にしようかと思ったけど、ふとダメ元で以前はできなかった<code>svn:</code>のスキーマにしてみた。</p>

<pre><code># svnlite co svn://svn0.us-west.FreeBSD.org/base/head src
</code></pre>

<p>できた。なんだよ。</p>

<h3>蛇足</h3>

<p>このあと</p>

<pre><code># svnlite co svn://svn0.us-west.FreeBSD.org/ports/head ports
</code></pre>

<p>でportsもチェックアウトしましたよ</p>
]]></content>
  </entry>
  
</feed>
