<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Freebsd on κeenのHappy Hacκing Blog </title>
      <generator uri="https://hugo.spf13.com">Hugo</generator>
    <link>http://localhost:1313/categories/freebsd/index.xml/</link>
    <language>en-us</language>
    
    
    <updated>Sat, 27 Dec 2014 00:00:00 UTC</updated>
    
    <item>
      <title>FreeBSDに移行した</title>
      <link>http://localhost:1313/blog/2014/12/27/freebsd</link>
      <pubDate>Sat, 27 Dec 2014 00:00:00 UTC</pubDate>
      
      <guid>http://localhost:1313/blog/2014/12/27/freebsd</guid>
      <description>

&lt;p&gt;κeenです。Ubuntuのaptが古いのが我慢ならなくなってきたのでFreeBSDに移行しました。pkgのsbclが1.2.6ですよ！&lt;/p&gt;

&lt;p&gt;最初は踏ん切りがつかなかったのでメインの500GBのHDDではなく、ジャンクで買った128Gのものにインストール。様々な問題に当ったものの、どうにか使えてます。今はHDD換装してメインになってます。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;問題の半分はKDEを導入したら直った（最初はCinnamon入れようとした。UbuntuではUnity使ってた）&lt;/li&gt;
&lt;li&gt;２日くらいはつぶす覚悟&lt;/li&gt;
&lt;li&gt;Xorgの設定を手で畫くことになるとは&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;toc_0&#34;&gt;良いところ&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;速い気がする。ufsのお陰？（HDDの問題？）&lt;/li&gt;
&lt;li&gt;Firefoxが全然CPU食わなくなった（プラグインの問題？）&lt;/li&gt;
&lt;li&gt;pkg使い易い！&lt;/li&gt;
&lt;li&gt;Ubuntuで使ってたソフトウェア大体動く&lt;/li&gt;
&lt;li&gt;portsもある！！&lt;/li&gt;
&lt;li&gt;Dtraceとかjailとか便利そうじゃね？&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;toc_1&#34;&gt;問題&lt;/h1&gt;

&lt;p&gt;たいてい解決or妥協してるのですが、どうにもならない点がいくつか&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;skkservがセグフォる。multiskkserv使えない。今は辞書直読みで対応してる。&lt;/li&gt;
&lt;li&gt;Wifiのデバドラがない。今はUSBのアダプタ使ってる（そっちのドライバはある）&lt;/li&gt;
&lt;li&gt;sleepすると復帰したときにディスプレイが点かない&lt;/li&gt;
&lt;li&gt;メインのHDDにデュアルブートでバックポート出来無かった&lt;/li&gt;
&lt;li&gt;日本語キーボードのモディファイアキーを認識しない: のたうち回ってpolykitの設定とかsysctlとか書いてる内に直った。でもen配列だと無理&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;特に3番が痛い。&lt;/p&gt;

&lt;h1 id=&#34;toc_2&#34;&gt;解決/妥協した問題&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;インプットメソッド、ログインマネージャ、タイムゾーン: KDEを導入したら直った&lt;/li&gt;
&lt;li&gt;データの移行: fusefs_ext4でUbuntuのHDDマウントしてコピー、権限変更、&lt;code&gt;chmod u+w&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;フォント: &lt;code&gt;sudo pkg install $(pkg search ja-font)&lt;/code&gt;の力技。あとはXorgの設定書いてKDEとFirefoxで好みのフォントを選んだ&lt;/li&gt;
&lt;li&gt;キーボードdvorakにしてるのにqwertyになる: qwertyで妥協。やりたければ&lt;code&gt;sekxkbd&lt;/code&gt;とかあるし&lt;/li&gt;
&lt;li&gt;ロケールが日本語になんなくてFirefoxとかが全部英語: ま、いっか&lt;/li&gt;
&lt;li&gt;タッチパッドでスクロールが出来無い: Xorgの設定書いた。ドライバもなんか設定書いた気がする&lt;/li&gt;
&lt;li&gt;kvmが使えない: むしろBHyVeを試してみるチャンス！開発中のVMMを提供してくれたFreeBSDに圧倒的感謝！！&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;デバドラとかハードウェア周りがつらい。ソフトウェアは統合デスクトップ環境が吸収してくれますね。&lt;/p&gt;

&lt;p&gt;EmacsとFirefoxとThunderbirdが動くので今のところ問題ないですね。今後また問題が出て来るかも。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>FreeBSDのmanページを手動インストールする</title>
      <link>http://localhost:1313/blog/2014/02/01/freebsd-manpage</link>
      <pubDate>Sat, 01 Feb 2014 00:00:00 UTC</pubDate>
      
      <guid>http://localhost:1313/blog/2014/02/01/freebsd-manpage</guid>
      <description>&lt;p&gt;FreeBSD10をインストールするときにdocをインストールしなかったら後で困ったのでメモ。環境はUbuntu13.10上のkvmに入れたFreeBSD10です。&lt;/p&gt;

&lt;p&gt;本来なら&lt;code&gt;sudo bsdconfig&lt;/code&gt;(9.xまでは&lt;code&gt;sudo sysinstall&lt;/code&gt;)でメニューを選んでいけばインストールできるのですが、&lt;code&gt;ping&lt;/code&gt;か何かがおかしくてサーバーの名前解決ができない。&lt;code&gt;ping FreeBSD.org&lt;/code&gt;や&lt;code&gt;ping 4.4.4.4&lt;/code&gt;が返ってこない。しかし&lt;code&gt;curl&lt;/code&gt;などは普通に動きます。&lt;/p&gt;

&lt;p&gt;とりあえず&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ftp anonymous@ftp.jp.freebsd.org
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でログインし、&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ftp&amp;gt; cd pub/FreeBSD/releases/i386/10.0-RELEASE
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;と進んで&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ftp&amp;gt; get doc.txz
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;します。んで&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ftp&amp;gt; bye
$ unxz -cd doc.txz | sudo tar xf - -C /
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でインストール完了。&lt;/p&gt;

&lt;p&gt;普通に配置するだけで良いんですね。mandbとかあるのかと思ってた。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>FreeBSD10でちょっとこけた</title>
      <link>http://localhost:1313/blog/2013/09/12/error-on-svn</link>
      <pubDate>Thu, 12 Sep 2013 00:00:00 UTC</pubDate>
      
      <guid>http://localhost:1313/blog/2013/09/12/error-on-svn</guid>
      <description>

&lt;p&gt;FreeBSD10をインストールしてたときにちょっとつまったところがあったのでメモ。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;(前回までのあらすじ)&lt;/h2&gt;

&lt;p&gt;FreeBSD10をインストールしたkvmのイメージでFreeBSDのソースをコンパイルできなくなっていたのでκeenはイメージに最新のFreeBSDを上書きインストールすることを決意したのであった&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;今回&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://pub.allbsd.org/FreeBSD-snapshots/&#34;&gt;https://pub.allbsd.org/FreeBSD-snapshots/&lt;/a&gt;から最新版isoをダウンロードして&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kvm -cdrom ~/Download/FreeBSD-10.0-HEAD-r255472-JPSNAP-i386-i386-disc1.iso -boot d -m 2048 -smp 3 FreeBSD10.img
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でブート&amp;amp;インストール。普通にインストーラに従って問題無し。&lt;br /&gt;
もう一度&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kvm -m 2048 -smp 3 FreeBSD10.img
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でブート。&lt;code&gt;/usr/src&lt;/code&gt;が空なのを確認して、最近標準添付になったsvnliteでソースをチェックアウト。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# cd /usr
# rmdir src
# svnlite co https://svn0.us-west.FreeBSD.org/base/head src
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;で、エラー。&lt;br /&gt;
内容は&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;server sent a truncated http response body.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;不明。&lt;code&gt;svn(lite)&lt;/code&gt;のエラーらしいことは分った。&lt;code&gt;https:&lt;/code&gt;が悪い気がするので&lt;code&gt;http:&lt;/code&gt;にしようかと思ったけど、ふとダメ元で以前はできなかった&lt;code&gt;svn:&lt;/code&gt;のスキーマにしてみた。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# svnlite co svn://svn0.us-west.FreeBSD.org/base/head src
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;できた。なんだよ。&lt;/p&gt;

&lt;h3 id=&#34;toc_2&#34;&gt;蛇足&lt;/h3&gt;

&lt;p&gt;このあと&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# svnlite co svn://svn0.us-west.FreeBSD.org/ports/head ports
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でportsもチェックアウトしましたよ&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>