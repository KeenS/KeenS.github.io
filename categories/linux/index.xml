<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux on </title>
    <link>/categories/linux/</link>
    <description>Recent content in Linux on </description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sun, 14 Feb 2016 22:37:35 +0900</lastBuildDate>
    <atom:link href="/categories/linux/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>readlineã®ä½œã‚Šæ–¹</title>
      <link>/post/readlinenotsukurikata/</link>
      <pubDate>Sun, 14 Feb 2016 22:37:35 +0900</pubDate>
      
      <guid>/post/readlinenotsukurikata/</guid>
      <description>

&lt;p&gt;Îºeenã§ã™ã€‚ãªã‚“ã‹ä¼ç·šã£ã½ã„ã‚‚ã®å›åã—ã¨ã„ãŸæ–¹ãŒè‰¯ã„ã‹ãªã¨æ€ã£ã¦Linuxã£ã½ã„è©±ã§ã‚‚ã€‚&lt;/p&gt;

&lt;p&gt;readlineã£ã¦ä¾¿åˆ©ã§ã™ã‚ˆã­ã€‚
ã§ã‚‚Cã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‹ã‚‰ä»–ã®è¨€èªã‹ã‚‰ä½¿ãŠã†ã¨æ€ã†ã¨é¢å€’ã ã£ãŸã‚Šä½¿ãˆãªã‹ã£ãŸã‚ŠGPLv3ã®æ‰€ç‚ºã§ä½¿ãˆãªã‹ã£ãŸã‚Šã—ã¾ã™ã‚ˆã­ã€‚
ãã“ã§ã‚ã‚‹ç¨‹åº¦POSIXã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ‰±ã‚ã›ã¦ãã‚Œã‚‹è¨€èªã§ã®readlineã®ä½œã‚Šæ–¹ã§ã‚‚ã€‚&lt;/p&gt;

&lt;h1 id=&#34;ã‚«ãƒãƒ‹ã‚«ãƒ«ãƒ¢ãƒ¼ãƒ‰ã¨ã‚¨ã‚³ãƒ¼ãƒ¢ãƒ¼ãƒ‰:58de41bc5e8c50f42088984a9312e8c7&#34;&gt;ã‚«ãƒãƒ‹ã‚«ãƒ«ãƒ¢ãƒ¼ãƒ‰ã¨ã‚¨ã‚³ãƒ¼ãƒ¢ãƒ¼ãƒ‰&lt;/h1&gt;

&lt;p&gt;readlineã®ä»•çµ„ã¿è‡ªä½“ã¯ç°¡å˜ã§ã€å…¨ã¦ã®æ–‡å­—å…¥åŠ›ã‚’å—ã‘å–ã£ã¦ã€&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;readlineã®åˆ¶å¾¡ã‚­ãƒ¼ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãªã‚‰æŒ‡å®šã®åˆ¶å¾¡ã‚’è¡Œãªã†&lt;/li&gt;
&lt;li&gt;æ™®é€šã®æ–‡å­—ãªã‚‰ãã®ã¾ã¾ç”»é¢ã«è¡¨ç¤ºã™ã‚‹&lt;/li&gt;
&lt;li&gt;ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãªã‚‰ &lt;code&gt;^W&lt;/code&gt; ãªã©ã¨ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—è¡¨ç¤ºã™ã‚‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã“ã‚Œã ã‘ã§ã™ã€‚ã—ã‹ã—ãã†ç°¡å˜ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ã‚ãªãŸã®ãŠæ°—ã«å…¥ã‚Šã®è¨€èªã§ &lt;code&gt;readchar&lt;/code&gt; ã£ã½ã„é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨åˆ†ã‹ã‚‹ã‹ã¨æ€ã„ã¾ã™ãŒã€&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ä¸€æ–‡å­—å…¥åŠ›ã—ãŸã ã‘ã§ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«å…¥åŠ›æ–‡å­—ãŒæ¸¡ã•ã‚Œãªã„ã€‚ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦åˆã‚ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã® &lt;code&gt;readchar&lt;/code&gt; é–¢æ•°ãŒè¿”ã‚‹ã€‚&lt;/li&gt;
&lt;li&gt;å…¥åŠ›ã—ãŸæ–‡å­—ãŒãã®ã¾ã¾ã‚¨ã‚³ãƒ¼ãƒãƒƒã‚¯ã•ã‚Œã‚‹ã€‚ã™ãªã‚ã¡ã€ &lt;code&gt;â†&lt;/code&gt; ã‚’æŠ¼ã—ã¦ã‚‚ &lt;code&gt;^[[D&lt;/code&gt; ãŒå…¥åŠ›ã•ã‚Œã¦ã—ã¾ã„ã€åˆ¶å¾¡ä¸Šä¸éƒ½åˆã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ç§ã¯æ˜”ã¯ã“ã‚Œã‚‰ã®æŒ™å‹•ãŒé©åˆ‡ãªé–¢æ•°ãŒãªã„ã‹ã‚‰ã ã¨æ€ã£ã¦ã¾ã—ãŸã€‚ã—ã‹ã—ã€ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ã“ã®ã‚ˆã†ãªæŒ™å‹•ã‚’ã™ã‚‹ã®ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®è²¬ä»»ã§ã‚‚ã§ã‚‚ã‚·ã‚§ãƒ«ã®è²¬ä»»ã§ã‚‚ãªãã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®è²¬ä»»ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¯å¤šå½©ãªãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Šã€ãã‚Œã«ã‚ˆã£ã¦æŒ™å‹•ãŒå¤‰ã‚ã‚‹ã®ã§ã™ã€‚
ã¤ã¾ã‚Šã€1.ã®æŒ™å‹•ã‚’ã™ã‚‹ã®ã¯ã‚«ãƒãƒ‹ã‚«ãƒ«ãƒ¢ãƒ¼ãƒ‰ã®æŒ™å‹•ã€2.ã®æŒ™å‹•ã‚’ã™ã‚‹ã®ã¯ã‚¨ã‚³ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã®æŒ™å‹•ãªã®ã§ã™ã€‚&lt;/p&gt;

&lt;h1 id=&#34;tcgetattr-ã¨-tcsetattr:58de41bc5e8c50f42088984a9312e8c7&#34;&gt;&lt;code&gt;tcgetattr&lt;/code&gt; ã¨ &lt;code&gt;tcsetattr&lt;/code&gt;&lt;/h1&gt;

&lt;p&gt;ã•ã¦ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ãƒ¢ãƒ¼ãƒ‰ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ å´ã‹ã‚‰å¤‰æ›´å‡ºæ¥ã¾ã™ã€‚ãã‚Œã‚’è¡Œãªã†ã®ãŒ &lt;code&gt;tcgetattr(3)&lt;/code&gt; ã¨ &lt;code&gt;tcsetattr(3)&lt;/code&gt; ã§ã™ã€‚
ã–ã£ãã‚Šè¨€ã†ã¨ &lt;code&gt;tcgetattr&lt;/code&gt; ã§ç¾åœ¨ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å–å¾—ã—ã¦ã€ãã‚Œã‚’æ‰€æœ›ã®ãƒ¢ãƒ¼ãƒ‰ã«æ›¸ãæ›ãˆã€ &lt;code&gt;tcsetattr&lt;/code&gt; ã‚’ä½¿ã£ã¦åæ˜ å‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä»Šå›ã¯ã‚«ãƒãƒ‹ã‚«ãƒ«ãƒ¢ãƒ¼ãƒ‰ã¨ã‚¨ã‚³ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‚’offã«ã—ãŸã„ã®ã§ã™ã”ã„é›‘ãªã‚³ãƒ¼ãƒ‰ã ã¨ã“ã†æ›¸ã‘ã‚‹ã§ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-lisp&#34;&gt;(require &#39;sb-posix)
(let* ((stdin 0)
       (termios (sb-posix:tcgetattr stdin))
       (lflag (sb-posix:termios-lflag termios)))
  (setf lflag (logand lflag (lognot sb-posix:icanon)))
  (setf lflag (logand lflag (lognot sb-posix:echo)))
  (setf (sb-posix:termios-lflag termios) lflag)
  (sb-posix:tcsetattr stdin sb-posix:tcsadrain termios))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã—ã‹ã—ã€ã“ã‚Œã¯é›‘ã™ãã¾ã™ã€‚ãªãœãªã‚‰readlineã‚’å®Ÿè¡Œã—çµ‚ã‚ã£ãŸå¾Œã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å…ƒã®çŠ¶æ…‹ã«å¾©å…ƒã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚
ãã†ã—ãªã„ã¨readlineã™ã‚‹ã¤ã‚‚ã‚Šã®ãªã„å…¥åŠ›é–¢æ•°ãŒäºˆæœŸã›ã¬æŒ™å‹•ã‚’ã™ã‚‹ã§ã—ã‚‡ã†ã€‚
ã‚ã‚‹ã„ã¯Lispãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†ã—ãŸå¾Œã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¾ã§å½±éŸ¿ãŒåŠã³ã¾ã™ã€‚
ãªã®ã§ &lt;strong&gt;å¿…ãš&lt;/strong&gt; å‡¦ç†ãŒçµ‚ã‚ã£ãŸã‚‰ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®çŠ¶æ…‹ã‚’å¾©å…ƒã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã•ã¦ã€Common Lispã§ã¯ã“ã®ã€Œå¿…ãšã€ã¯ &lt;code&gt;unwind-protect&lt;/code&gt; ã‚’ä½¿ã£ãŸ &lt;code&gt;with-&lt;/code&gt; ãƒã‚¯ãƒ­ã§å®Ÿç¾ã™ã‚‹ã®ãŒå¸¸å¥—æ‰‹æ®µã§ã™ã€‚
ã‚³ãƒ¼ãƒ‰ã¯ã“ã®ã‚ˆã†ã«ãªã‚‹ã§ã—ã‚‡ã†ã‹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-lisp&#34;&gt;(defmacro with-readline-mode (&amp;amp;body body)
  (let ((stdin       (gensym &amp;quot;stdin&amp;quot;))
        (old-termios (gensym &amp;quot;old-termios&amp;quot;))
        (new-termios (gensym &amp;quot;new-termios&amp;quot;))
        (lflag       (gensym &amp;quot;lflag&amp;quot;)))
    `(let* ((,stdin 0)
            (,old-termios (sb-posix:tcgetattr ,stdin))
            (,new-termios (sb-posix:tcgetattr ,stdin))
            (,lflag (sb-posix:termios-lflag ,new-termios)))
       (unwind-protect
            (progn
              (setf ,lflag (logand ,lflag (lognot sb-posix:icanon)))
              (setf ,lflag (logand ,lflag (lognot sb-posix:echo)))
              (setf (sb-posix:termios-lflag ,new-termios) ,lflag)
              (sb-posix:tcsetattr ,stdin sb-posix:tcsadrain ,new-termios)
              ,@body)
        (sb-posix:tcsetattr ,stdin sb-posix:tcsadrain ,old-termios)))))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-lisp&#34;&gt;(with-readline-mode
  (format t &amp;quot;~a~%&amp;quot; (read-char)))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãªã©ã¨ã™ã‚‹ã¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ãƒ¢ãƒ¼ãƒ‰ãŒå¤‰ã‚ã£ãŸã“ã¨ãŒå®Ÿæ„Ÿå‡ºæ¥ã‚‹ã§ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;p&gt;å°šã€ç¹°ã‚Šè¿”ã™ã¨ã“ã‚Œã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®è¨­å®šã®è©±ãªã®ã§Emacså†…ã‹ã‚‰è©¦ãã†ã¨ã—ã¦ã‚‚æ­£å¸¸ã«å‹•ä½œã—ãªã„ç­ˆã§ã™ã€‚&lt;/p&gt;

&lt;h1 id=&#34;ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚·ãƒ¼ã‚±ãƒ³ã‚¹:58de41bc5e8c50f42088984a9312e8c7&#34;&gt;ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚·ãƒ¼ã‚±ãƒ³ã‚¹&lt;/h1&gt;

&lt;p&gt;ã•ã¦ã€Common Lispã®æ¨™æº–ã«ãªã„æ‹¡å¼µæ©Ÿèƒ½ãŒå¿…è¦ãªã®ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ã ã‘ã§ã€ã‚ã¨ã¯å¥½ãå‹æ‰‹å‡ºæ¥ã‚‹ã®ã§ã™ãŒç§ã‚‚å°‘ã—åµŒã£ãŸéƒ¨åˆ†ãŒã‚ã‚‹ã®ã§ãã“ã ã‘ã€‚&lt;/p&gt;

&lt;p&gt;readlineã«æ¬²ã—ã„æ©Ÿèƒ½ã¯ãªã‚“ã§ã—ã‚‡ã†ã‹ã€‚è‰²ã€…ã‚ã‚‹ã‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ãšã¯ &lt;code&gt;â†&lt;/code&gt; ã€ &lt;code&gt;â†’&lt;/code&gt; ã§ã‚«ãƒ¼ã‚½ãƒ«ç§»å‹•ã‚’ã—ãŸã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚
å®Ÿã¯ã“ã‚ŒãŒå¤§è½ã—ç©´ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;â†&lt;/code&gt; ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ã¯ãªã‚“ã¨3æ–‡å­—å…¥åŠ›ã•ã‚Œã¾ã™ã€‚ã™ãªã‚ã¡ã€ Escæ–‡å­—ã® &lt;code&gt;^[&lt;/code&gt; ã€æ™®é€šã®ASCIIæ–‡å­—ã® &lt;code&gt;[&lt;/code&gt; ã€ãã—ã¦å¤§æ–‡å­—ã® &lt;code&gt;D&lt;/code&gt; ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãã—ã¦ã‚«ãƒ¼ã‚½ãƒ«ã®ç§»å‹•æ–‡å­—ã‚’å—ã‘ã¦ã‚«ãƒ¼ã‚½ãƒ«ã‚’ç§»å‹•ã™ã‚‹ã«ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«ãã®ã¾ã¾Escæ–‡å­—ã® &lt;code&gt;^[&lt;/code&gt; ã€æ™®é€šã®ASCIIæ–‡å­—ã® &lt;code&gt;[&lt;/code&gt; ã€ãã—ã¦å¤§æ–‡å­—ã® &lt;code&gt;D&lt;/code&gt; ã‚’å…¥åŠ›ã—ã¦ã‚ã’ã‚Œã°å‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãªã®ã§ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-lisp&#34;&gt;(defconstant left &amp;quot;[d&amp;quot;)
(defconstant right &amp;quot;[c&amp;quot;)

(defun left ()
  (format t &amp;quot;~a&amp;quot; left)
  (force-output))

(defun right ()
  (format t &amp;quot;~a&amp;quot; right)
  (force-output))


(defun readline ()
  (let ((line &#39;()))
    (flet ((self-insert (char)
             (format t &amp;quot;~c&amp;quot; char)
             (setf line (cons char line))
             (force-output)))
      (with-readline-mode
       (loop
          (let* ((char (read-char))
                 (code (char-code char)))
            (case code
              ; escape
              ((#b11011)
               (let* ((char (read-char))
                      (code (char-code char)))
                 ;; (write-line &amp;quot;called&amp;quot;)
                 ;; (format t &amp;quot;~a~%&amp;quot; char)
                 ;; (format t &amp;quot;~a~%&amp;quot; code)
                 (case char
                   ((#\[)
                    (let* ((char (read-char))
                           (code (char-code char)))
                      (case char
                        ((#\c) (right))
                        ((#\d) (left)))))
                   ((t)
                    (self-insert #\escape)
                    (self-insert char)))))
              ((#b1010)
               (return-from readline (coerce (reverse line) &#39;string)))
              (t (self-insert char)))))))))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;case&lt;/code&gt; ã‚’ãƒã‚¹ãƒˆã—ã¦ã„ãã®ã¯ãƒ€ãƒ«ã„ã—æ‹¡å¼µæ€§ãŒãªã„ã®ã§ç¾å®Ÿçš„ã«ã¯trieæœ¨ã‚’ä½¿ã†ã“ã¨ã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ãŒå˜ç´”ã«ã¯ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã§readlineã‚’ä½œã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s Happy HacÎºking!&lt;/p&gt;

&lt;h1 id=&#34;ä»˜éŒ²a-ä¼ç·š:58de41bc5e8c50f42088984a9312e8c7&#34;&gt;ä»˜éŒ²A: ä¼ç·š&lt;/h1&gt;

&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;é©å½“ã«é­šã¨é‡èœç‚’ã‚ãŸã‚‰ã‚ªã‚µãƒ¬ã£ã½ããªã£ãŸ &lt;a href=&#34;https://t.co/9IIzhIGjzd&#34;&gt;pic.twitter.com/9IIzhIGjzd&lt;/a&gt;&lt;/p&gt;&amp;mdash; Îºeen (@blackenedgold) &lt;a href=&#34;https://twitter.com/blackenedgold/status/698821538686984192&#34;&gt;2016, 2æœˆ 14&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34; data-conversation=&#34;none&#34; data-lang=&#34;ja&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;&lt;a href=&#34;https://twitter.com/blackenedgold&#34;&gt;@blackenedgold&lt;/a&gt; é­šã¯ä½•ï¼Ÿã‚¿ãƒ©ï¼Ÿã ã£ãŸã‚‰å­£ç¯€ç‰©ã ã—ã€æ—¬ã®é±ˆã¨é‡èœã®ã‚½ãƒ†ãƒ¼ã€è©³è§£Linuxã‚«ãƒ¼ãƒãƒ«ã‚’æ·»ãˆã¦ã€‚ã¨å‘½åã—ã‚ˆã†&lt;/p&gt;&amp;mdash; Shinnosuke Takeda (@cnosuke) &lt;a href=&#34;https://twitter.com/cnosuke/status/698824048319410176&#34;&gt;2016, 2æœˆ 14&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;h1 id=&#34;ä»˜éŒ²b-pure-rubyãªreadlineã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰:58de41bc5e8c50f42088984a9312e8c7&#34;&gt;ä»˜éŒ²B: Pure Rubyãªreadlineã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰&lt;/h1&gt;

&lt;p&gt;åŠªåŠ›ãŒå¿…è¦ã¨ã„ã†ã“ã¨ãŒèª­ã¿è§£ã‘ã‚Œã°å¹¸ã„ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/ConnorAtherton/rb-readline/blob/master/lib/rbreadline.rb&#34;&gt;rb-readline/rbreadline.rb at master Â· ConnorAtherton/rb-readline&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œã‚Šæ–¹</title>
      <link>/post/ichijifairunotsukurikata/</link>
      <pubDate>Sun, 08 Nov 2015 21:40:14 +0900</pubDate>
      
      <guid>/post/ichijifairunotsukurikata/</guid>
      <description>

&lt;p&gt;Rustã«&lt;a href=&#34;https://github.com/Stebalien/tempfile&#34;&gt;tempfile&lt;/a&gt;ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã€‚ãã®åã®é€šã‚Šãƒ†ãƒ³ãƒãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã€‚
å¿…è¦ã«è¿«ã‚‰ã‚Œã¦ãã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«PRã‚’é€ã‚ã†ã¨ã—ã¦å®Ÿè£…ã‚’èª­ã‚“ã ã®ã ãŒæ™®æ®µã‚ã¾ã‚Šæ„è­˜ã—ãªã‹ã£ãŸãƒ†ãƒ³ãƒãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œã‚Šæ–¹ã‚’çŸ¥ã£ãŸã®ã§ã¡ã‚‡ã£ã¨è§£èª¬ã—ã¦ã¿ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;Rustã¯ã»ã¼ãã®ã¾ã¾ã®ä½¿ã„å¿ƒåœ°ã§Cã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å‘¼ã¹ã‚‹ã®ã§CãŒåˆ†ã‹ã‚‹äººã«ãªã‚‰ä¼ã‚ã‚‹ã¨æ€ã†ã€‚&lt;/p&gt;

&lt;p&gt;ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ§‹æˆã¨ã—ã¦ã€src/*.rsã«OSéä¾å­˜ãªã‚³ãƒ¼ãƒ‰ã‚„ãƒ¦ãƒ¼ã‚¶å‘ã‘ã®APIãŒã‚ã‚Šã€src/imp/{windows,unix}.rsã«OSä¾å­˜ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹ã€‚
ç§ã¯Windowsã®å®Ÿè£…ã«ã¯èˆˆå‘³ãªã„ã—è©³ã—ãã‚‚ãªã„ã®ã§unixå‘ã‘ã®å®Ÿè£…ã ã‘ã‚’è¦‹ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;impä»¥ä¸‹ã‚’è¦‹ã‚‹å‰ã«ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ãŒæä¾›ã™ã‚‹APIã‚’è§£èª¬ã—ã¦ãŠãã¨ã€å¤§ããåˆ†ã‘ã¦&lt;code&gt;TempFile&lt;/code&gt;ã¨&lt;code&gt;NamedTempFile&lt;/code&gt;ãŒã‚ã‚‹ã€‚ç„¡åã€Namedã©ã¡ã‚‰ã«ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸‹ã«ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹APIã¨æŒ‡å®šã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã«ä½œã‚‹APIã¨ãŒã‚ã‚‹ã€‚
&lt;code&gt;TempFile&lt;/code&gt;ãŒä½œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯å®Œå…¨ã«åŒ¿åã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«æ®‹ã‚‰ãªã„ã€‚I/OãŒå‡ºæ¥ã‚‹ã‚¹ãƒˆãƒªãƒ¼ãƒ ã ã‘ã‚’è¿”ã™ã€‚å®šæœŸçš„ã«/tmpä»¥ä¸‹ã‚’å‰Šé™¤ã™ã‚‹ã‚¸ãƒ§ãƒ–ãŒèµ°ã£ã¦ã„ãŸã¨ã—ã¦ã‚‚å®‰å…¨ã ã—ã€ä»–ã®ãƒ—ãƒ­ã‚»ã‚¹ã«ä¸­èº«ã‚’èª­ã¾ã‚Œã‚‹å±é™ºæ€§ã‚‚ãªã„ã€‚
ä¸€æ–¹&lt;code&gt;NamedTempFile&lt;/code&gt;ã®æ–¹ã¯äºˆæ¸¬ä¸å¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«åã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ã‚‚ã®ã®ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«æ®‹ã‚‹ã®ã§å®‰å…¨ã§ã¯ãªã„ã€‚ã—ã‹ã—ãƒ•ã‚¡ã‚¤ãƒ«åã‚’è¦æ±‚ã™ã‚‹é–¢æ•°ã‚„å¤–éƒ¨ãƒ—ãƒ­ã‚»ã‚¹ã¨å”èª¿ã™ã‚‹æ™‚ã«ä½¿ãˆã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;ãã‚Œãã‚Œã§å®Ÿè£…ã‚’è¦‹ã¦ã„ãã€‚&lt;/p&gt;

&lt;h1 id=&#34;tempfile:047d25333d01b489b97d09f703fb9afe&#34;&gt;TempFile&lt;/h1&gt;

&lt;p&gt;ã“ã‚Œã¯Linuxã¨ãã®ä»–ã§å®Ÿè£…ãŒåˆ†ã‹ã‚Œã‚‹ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼APIå´ã§ãƒ†ãƒ³ãƒãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æŒ‡å®šã¯å¸åã—ã¦ã„ã‚‹ã®ã§ã“ã¡ã‚‰ã§ã¯ãŸã æŒ‡å®šã•ã‚ŒãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸‹ã«ãƒ†ãƒ³ãƒãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Œã°ã„ã„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;linux:047d25333d01b489b97d09f703fb9afe&#34;&gt;Linux&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#[cfg(target_os = &amp;quot;linux&amp;quot;)]
pub fn create(dir: &amp;amp;Path) -&amp;gt; io::Result&amp;lt;File&amp;gt; {
    const O_TMPFILE: libc::c_int = 0o20200000;
    match unsafe {
        libc::open(try!(cstr(dir)).as_ptr(), O_CLOEXEC | O_EXCL | O_TMPFILE | O_RDWR, 0o600)
    } {
        -1 =&amp;gt; create_unix(dir),
        fd =&amp;gt; Ok(unsafe { FromRawFd::from_raw_fd(fd) }),
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Linux 3.11ã‹ã‚‰&lt;code&gt;O_TMPFILE&lt;/code&gt;ãŒå…¥ã£ãŸã®ã§å®Ÿè£…ã¯ç›´æ¥çš„ã ã€‚&lt;code&gt;O_TMPFILE&lt;/code&gt;ã¯ãƒ†ãƒ³ãƒãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«å‘ã‘ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã«åå‰ãŒç™»éŒ²ã•ã‚Œãªã„åŒ¿åã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ã€‚Lispã®gensymã«ä¼¼ã¦ã„ã‚‹ã€‚
O_EXCLã§ãƒªãƒ³ã‚¯ã«ã‚ˆã‚‹åˆ¥åã§ã®å‚ç…§ã‚’å›é¿ã—ã€Linux 2.6.23ä»¥å¾Œã§å…¥ã£ãŸO_CLOEXECã§&lt;code&gt;exec(2)&lt;/code&gt;ã—ãŸæ™‚ã«fdã‚’é–‰ã˜ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚ãã†ã™ã‚Œã°é–¢ä¿‚ã®ãªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‚ç…§ã•ã‚Œã‚‹ã®ã‚’é˜²ã’ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚³ãƒ¼ãƒ«ãŒæˆåŠŸã™ã‚Œã°ãã®ã¾ã¾Fileã‚’è¿”ã™ã€‚&lt;/p&gt;

&lt;p&gt;Linux 3.11æœªæº€ã‚„O_TMPFILEã‚’ã‚µãƒãƒ¼ãƒˆã—ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã ã£ãŸã‚‰å¤±æ•—ã—ã€-1ãŒè¿”ã‚‹ã®ã§Linuxã«ä¾å­˜ã—ãªã„æ±ç”¨ã®&lt;code&gt;create_unix&lt;/code&gt;ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹ã€‚&lt;/p&gt;

&lt;h2 id=&#34;unix:047d25333d01b489b97d09f703fb9afe&#34;&gt;Unix&lt;/h2&gt;

&lt;p&gt;Unixå‘ã‘ã®å®Ÿè£…ã¯æã‚‰ãPOSIXäº’æ›ãªã‚·ã‚¹ãƒ†ãƒ ãªã‚‰å…¨ã¦ã§å‹•ãã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;#[cfg(not(target_os = &amp;quot;linux&amp;quot;))]
pub fn create(dir: &amp;amp;Path) -&amp;gt; io::Result&amp;lt;File&amp;gt; {
    create_unix(dir)
}

fn create_unix(dir: &amp;amp;Path) -&amp;gt; io::Result&amp;lt;File&amp;gt; {
    for _ in 0..::NUM_RETRIES {
        let tmp_path = dir.join(&amp;amp;tmpname());
        return match create_named(&amp;amp;tmp_path) {
            Ok(file) =&amp;gt; {
                // I should probably tell the user this failed but the temporary file creation
                // didn&#39;t really fail...
                let _ = fs::remove_file(tmp_path);
                Ok(file)
            },
            Err(ref e) if e.kind() == io::ErrorKind::AlreadyExists =&amp;gt; continue,
            Err(e) =&amp;gt; Err(e),
        }
    }
    Err(io::Error::new(io::ErrorKind::AlreadyExists,
                       &amp;quot;too many temporary directories already exist&amp;quot;))
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ±ç”¨ã®&lt;code&gt;create_unix&lt;/code&gt;ã§ã¯å®Œå…¨ã«ç„¡åã®ãƒ†ãƒ³ãƒãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ã®ã‚’è«¦ã‚ã¦ã€ä¸€æ—¦ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆãªåå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã£ã¦é–‹ãã€æˆåŠŸã—ãŸã‚‰ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã™ã‚‹ã€‚
1ã¤ã§ã‚‚é–‹ã„ã¦ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ãŒã‚ã‚‹æ™‚ã«å‰Šé™¤ã•ã‚Œã‚‹ã¨Unixã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãã®ãƒ—ãƒ­ã‚»ã‚¹ã‹ã‚‰ã¯è¦‹ã‚Œã‚‹ãŒä»–ã®ãƒ—ãƒ­ã‚»ã‚¹ã‹ã‚‰ã¯è¦‹ã‚Œãªã„çŠ¶æ…‹ã«ãªã‚‹ã®ã§è‰²ã€…ä¾¿åˆ©ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;create_named&lt;/code&gt;ã¯å¾Œç¨‹è¦‹ã‚‹ã¨ã—ã¦ã€ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆãªãƒ•ã‚¡ã‚¤ãƒ«åã ã¨ç¨€ã«æ—¢ã«å­˜åœ¨ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«åã¨è¢«ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ä½•åº¦ã‹ãƒªãƒˆãƒ©ã‚¤ã—ã¦ã„ã‚‹ã€‚
ãƒªãƒˆãƒ©ã‚¤å›æ•°ã¯src/lib.rsã§å®šç¾©ã•ã‚Œã¦ã„ã¦ã€&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;const NUM_RETRIES: u32 = 1 &amp;lt;&amp;lt; 31;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¨ãªã£ã¦ã„ã‚‹ã€‚æ€ã£ãŸã‚ˆã‚Šãˆã‘ã¤ãªã„å›æ•°ãƒªãƒˆãƒ©ã‚¤ã—ã¦ã„ã‚‹ã€‚ã‚‚ã¡ã‚ã‚“ã€ãƒ•ã‚¡ã‚¤ãƒ«åãŒè¢«ã£ãŸä»¥å¤–ã®ç†ç”±ã§ãƒ•ã‚¡ã‚¤ãƒ«ç”ŸæˆãŒå¤±æ•—ã—ãŸã®ãªã‚‰ãƒªãƒˆãƒ©ã‚¤ã«æ„å‘³ã¯ãªã„ã®ã§å¤§äººã—ãreturnã—ã¦ã„ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;ã§ã€&lt;code&gt;create_named&lt;/code&gt;ã ãŒ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;pub fn create_named(path: &amp;amp;Path) -&amp;gt; io::Result&amp;lt;File&amp;gt; {
    match unsafe {
        libc::open(try!(cstr(&amp;amp;path)).as_ptr(), O_CLOEXEC | O_EXCL | O_RDWR | O_CREAT, 0o600)
    } {
        -1 =&amp;gt; Err(io::Error::last_os_error()),
        fd =&amp;gt; Ok(unsafe { FromRawFd::from_raw_fd(fd) }),
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¨ãªã£ã¦ã„ã‚‹ã€‚å˜ã«&lt;code&gt;create&lt;/code&gt;ã®ãƒ•ãƒ©ã‚°ã®&lt;code&gt;O_TMPFILE&lt;/code&gt;ãŒ&lt;code&gt;O_CREAT&lt;/code&gt;ã«ãªã£ãŸã ã‘ã€‚&lt;/p&gt;

&lt;h1 id=&#34;namedtempfile:047d25333d01b489b97d09f703fb9afe&#34;&gt;NamedTempFile&lt;/h1&gt;

&lt;p&gt;ã“ã¡ã‚‰ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼APIã®ä¸­ã‹ã‚‰ç›´æ¥OSäº’æ›ç”¨ã‚³ãƒ¼ãƒ‰ã‚’å‘¼ã‚“ã§ã„ã‚‹ã€‚src/named.rsã«å®Ÿè£…ãŒã‚ã‚‹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;    /// Create a new temporary file in the specified directory.
    pub fn new_in&amp;lt;P: AsRef&amp;lt;Path&amp;gt;&amp;gt;(dir: P) -&amp;gt; io::Result&amp;lt;NamedTempFile&amp;gt; {
        for _ in 0..::NUM_RETRIES {
            let path = dir.as_ref().join(&amp;amp;util::tmpname());
            return match imp::create_named(&amp;amp;path) {
                Ok(file) =&amp;gt; Ok(NamedTempFile(Some(NamedTempFileInner { path: path, file: file, }))),
                Err(ref e) if e.kind() == io::ErrorKind::AlreadyExists =&amp;gt; continue,
                Err(e) =&amp;gt; Err(e),
            }
        }
        Err(io::Error::new(io::ErrorKind::AlreadyExists,
                           &amp;quot;too many temporary directories already exist&amp;quot;))
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿”ã‚Šå€¤ã‚’ãƒ¦ãƒ¼ã‚¶APIå‘ã‘ã«ãƒ©ãƒƒãƒ—ã—ã¦ã„ã‚‹ä»¥å¤–ã¯ç„¡åã®ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã¨å¤‰ã‚ã‚‰ãªã„ã€‚ä½™è«‡ã ãŒã“ã“ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«åã«ãƒ¦ãƒ¼ã‚¶ãŒå¹²æ¸‰ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ãšã€å®Œå…¨ã«ãƒ©ãƒ³ãƒ€ãƒ ãªãƒ•ã‚¡ã‚¤ãƒ«åã«ãªã£ã¦ã„ã‚‹ã€‚
ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ«å°¾(ä¾‹ãˆã°æ‹¡å¼µå­)ã‚„å…ˆé ­(ä¾‹ãˆã°app_nameãªã©ã®è­˜åˆ¥å­)ã‚’æŒŸã‚ãªã„ã€‚ç§ãŒä»Šä½œæ¥­ã—ã¦ã‚‹ãƒ‘ãƒƒãƒã¯ãã®è¾ºã‚’ã‚‚ã†å°‘ã—è‡ªç”±ã«ã™ã‚‹ã‚‚ã®ã ã€‚&lt;/p&gt;

&lt;p&gt;é–‘è©±ä¼‘é¡Œã€‚ä¼¼ãŸã‚ˆã†ãªå®Ÿè£…ãŒ2ã¤ã‚‚ã‚ã‚‹ã®ã¯æ°—ã«ãªã‚‹ã®ã§ä¸€å¿œwindowså‘ã‘ã®å®Ÿè£…ã‚‚èª­ã‚“ã§ã¿ã‚‹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-rust&#34;&gt;const ACCESS: DWORD     = winapi::FILE_GENERIC_READ
                        | winapi::FILE_GENERIC_WRITE;
const SHARE_MODE: DWORD = winapi::FILE_SHARE_DELETE
                        | winapi::FILE_SHARE_READ
                        | winapi::FILE_SHARE_WRITE;
const FLAGS: DWORD      = winapi::FILE_ATTRIBUTE_HIDDEN
                        | winapi::FILE_ATTRIBUTE_TEMPORARY;


fn to_utf16(s: &amp;amp;Path) -&amp;gt; Vec&amp;lt;u16&amp;gt; {
    s.as_os_str().encode_wide().chain(Some(0).into_iter()).collect()
}

fn win_create(path: &amp;amp;Path,
                     access: DWORD,
                     share_mode: DWORD,
                     disp: DWORD,
                     flags: DWORD) -&amp;gt; io::Result&amp;lt;File&amp;gt; {

    let path = to_utf16(path);
    let handle = unsafe {
        CreateFileW(
            path.as_ptr(),
            access,
            share_mode,
            0 as *mut _,
            disp,
            flags,
            ptr::null_mut())
    };
    if handle == winapi::INVALID_HANDLE_VALUE {
        Err(io::Error::last_os_error())
    } else {
        Ok(unsafe { File::from_raw_handle(handle as RawHandle) })
    }
}

pub fn create_named(path: &amp;amp;Path) -&amp;gt; io::Result&amp;lt;File&amp;gt; {
    win_create(path, ACCESS, SHARE_MODE, winapi::CREATE_NEW, FLAGS)
}

pub fn create(dir: &amp;amp;Path) -&amp;gt; io::Result&amp;lt;File&amp;gt; {
    for _ in 0..::NUM_RETRIES {
        return match win_create(
            &amp;amp;dir.join(&amp;amp;tmpname()),
            ACCESS,
            SHARE_MODE,
            winapi::CREATE_NEW,
            FLAGS | winapi::FILE_FLAG_DELETE_ON_CLOSE)
        {
            Ok(f) =&amp;gt; Ok(f),
            Err(ref e) if e.kind() == io::ErrorKind::AlreadyExists =&amp;gt; continue,
            Err(e) =&amp;gt; Err(e),
        };
    }
    Err(io::Error::new(io::ErrorKind::AlreadyExists,
                       &amp;quot;too many temporary directories already exist&amp;quot;))
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Windowså‘ã‘ã®å®Ÿè£…ã¯å¿…ãšãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãƒªãƒˆãƒ©ã‚¤ãŒå¿…è¦ãã†ï¼Ÿ&lt;code&gt;NamedTempFile&lt;/code&gt;ã‚’ä½œã‚‹ã«ã¯(ç†è«–çš„ã«)ã©ã®å®Ÿè£…ã§ã‚‚ãƒªãƒˆãƒ©ã‚¤ãŒå¿…è¦ã ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶APIå´ã§çºã‚ãŸã®ã‹ãªï¼Ÿ&lt;/p&gt;

&lt;h1 id=&#34;ã¾ã¨ã‚:047d25333d01b489b97d09f703fb9afe&#34;&gt;ã¾ã¨ã‚&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ†ãƒ³ãƒãƒ©ãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ãªã‚‰ã¾ãšã¯&lt;code&gt;O_TMPFILE&lt;/code&gt;ã‚’è©¦ã™&lt;/li&gt;
&lt;li&gt;ãƒ€ãƒ¡ãªã‚‰ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆãªãƒ•ã‚¡ã‚¤ãƒ«åã§æˆåŠŸã™ã‚‹ã¾ã§ãƒªãƒˆãƒ©ã‚¤ã€æˆåŠŸã—ãŸã‚‰å³åº§ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä½œæ¥­ä¸­ã®ã‚³ãƒ¼ãƒ‰ã‚’pushã—å¿˜ã‚Œã¦åœŸæ—¥ã«é€²æ—å‡ºæ¥ãªã‹ã£ãŸã®ã§ã¾ãŸãŠèŒ¶ã‚’æ¿ã™ã¯ã‚ã«ãªã£ãŸã€‚&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>