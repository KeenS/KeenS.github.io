<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Isucon on κeenのHappy Hacκing Blog</title>
    <link>//KeenS.github.io/categories/isucon/</link>
    <description>Recent content in Isucon on κeenのHappy Hacκing Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <lastBuildDate>Sun, 27 Sep 2015 23:58:24 +0900</lastBuildDate>
    
	<atom:link href="//KeenS.github.io/categories/isucon/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>isucon にCommon Lispチームで出た</title>
      <link>//KeenS.github.io/blog/2015/09/27/isucon_nicommon_lispchi_mudedeta/</link>
      <pubDate>Sun, 27 Sep 2015 23:58:24 +0900</pubDate>
      
      <guid>//KeenS.github.io/blog/2015/09/27/isucon_nicommon_lispchi_mudedeta/</guid>
      <description>&lt;p&gt;κeenです。 &lt;a href=&#34;isucon.net&#34;&gt;isucon&lt;/a&gt; に&lt;a href=&#34;https://twitter.com/i/notifications?lang=ja&#34;&gt;@nitro_idiot&lt;/a&gt;(深町さん)と&lt;a href=&#34;https://twitter.com/Rudolph_Miller?lang=ja&#34;&gt;@Rudolph_Miller&lt;/a&gt;のCommon Lispチームで出てきました。チーム名clfreaks。勿論Common Lispで再実装しました。

因みに深町さんは今回使ったWebサーバーのwooを含めCommon Lispのライブラリを多数公開している&lt;a href=&#34;http://github-awards.com/users/search?login=fukamachi&#34;&gt;世界一のCommon Lisper&lt;/a&gt;、ルドルフさんは元Common Lispの会社のCTO。&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>ISUCONこれまでの流れ</title>
      <link>//KeenS.github.io/slide/isuconkoremadenonagare/</link>
      <pubDate>Fri, 04 Sep 2015 08:47:05 +0900</pubDate>
      
      <guid>//KeenS.github.io/slide/isuconkoremadenonagare/</guid>
      <description># ISUCONこれまでの流れ ---------------------- 雑に書き殴った === # About Me --------- ![κeenのアイコン](/images/icon.png) + κeen + [@blackenedgold](https://twitter.com/blackenedgold) + Github: [KeenS](https://github.com/KeenS) + ISUCON3、 4の予選、本戦に出場（学生枠） === # ISUCON1 ブログ --------------- * node perl ruby * kazeburoの罠 * ブログのサイドバーが重いやつ * 割と親切なルール === # ISUCON2 チケット予約サイト --------------------------- * perl ruby node php java python * 席ランダムにしてなくてもベンチマーカー通っちゃう * 変更が1秒以内に反映されていること → 0.9秒毎に裏でバッチを回す * JOINが3連になってる所があってみんなそこに引っ掛かったがボトルネックはそこじゃない * ちょっとルールが雑になった === # ISUCON3予選 スニペット投稿サイト -------------------------------- * go node perl python ruby php * AWS1台 * Markdown変換がperl製の重いやつ * AWSだとプロセスのフォークも重い * titleの抜き出しも重い * チェッカーが甘くてVarnishを導入しただけで点数爆上がり * SQLの典型問題とかも * workloadに気付かなかった人多数 * 学生枠が出来た * ベンチマーカが通れば何でもアリな風潮 === # ISUCON3本戦 画像SNS -------------------- * go node perl python ruby * オンプレ5台 * 画像の変換が重い * 実は帯域もつらい * 画像のチェッカがあってチェッカが通れば画質を落としても良かった * 組長の罠 * ベンチマーカーに通れば何でもアリ * 複数サーバーでのファイルの共有にWebDAVが盲点 * 点数計算の罠に嵌まる人多数 + 基本点より追加点に目が眩む人がそれなりに * 推測するな計測せよ * nodeで初期パスワードが間違っているトラブル === # ISUCON4予選 銀行 -------------------------------------- * go node perl php python ruby * AWS1台 * ワークロードを桁外れに指定するとベンチマーカーが走り続けるバグ * ベンチマーカーにアクセスして行動パターンを解析した人が出る（その情報は使ってない。スポーツマンシップ。） * テンプレートエンジンをやめて静的ファイル * Go勢のon memory戦略が跋扈 * 「メモリに載せれば勝てるぜ」風潮 * 静的ファイルを返さない反則ギリギリのチューニング * ベンチマーカーのチューニング * Varnish潰し * アプリをC++で書き換えて予選突破したチームも出る === # ISUCON4本戦 動画広告 ---------------- * go perl php python ruby * オンプレ3台 * 最初からRedisに動画が載ってる * それ外したらスコア頭打ち(帯域がつまる) * ベンチマーク同士が干渉しあう * 実はCache-Controlをしたらスコアが爆上がり(上位2チームだけ気付いた) * 3位のチームは外向きと内向きの2枚のNICを使って団子状のスコアから頭1つだけ出た === #ISUCON5予選 ?</description>
    </item>
    
    <item>
      <title>ボトルネックのイイ話</title>
      <link>//KeenS.github.io/slide/botorunekkunoiihanashi/</link>
      <pubDate>Thu, 04 Jun 2015 00:03:14 +0900</pubDate>
      
      <guid>//KeenS.github.io/slide/botorunekkunoiihanashi/</guid>
      <description># ボトルネックのイイ話 ---------------------- サイバーエージェント15新卒 FRESH勉強会 === # About Me --------- ![κeenのアイコン](/images/icon.png) + κeen + [@blackenedgold](https://twitter.com/blackenedgold) + Github: [KeenS](https://github.com/KeenS) + 渋谷のエンジニア + Lisp, ML, Shell Scriptあたりを書きます === # ボトルネック -------------  ボトルネック (bottleneck) とは、システム設計上の制約の概念。英語の「瓶の首」の意。一部（主に化学分野）においては律速（りっそく、「速さ」を「律する（制御する）」要素を示すために使われる）、また『隘路（あいろ）』と言う同意語も存在する。 === # Webアプリの主な登場人物 ------------------------ * リバースプロキシ * アプリケーションサーバ * データベース === ![relation of reverse proxy, app and DB](/images/webapp.png) === # レスポンスタイムとスループット ------------------------------ * レスポンスタイム + リクエストを投げてレスポンスが返ってくるまでの時間 + ユーザから見たメトリクス * スループット+ 一定時間内にシステムがどれだけのリクエストを捌けるか + 中の人から見たメトリクス === # スループット ------------- * スループットの最大 ≒ リソースの限界 + ネットワーク帯域 + ディスクIO + メモリ使用量 + CPU負荷 * リソースのどれか1つでも限界になったらそれ以上パフォーマンスは上がらない === # パフォマンスの目安 ------------------- * ネットワーク帯域: bpsで表わす。NICによるが 1Gbpsとか * CPU: パーセンテージで表わす。100xコア数が最大マシンに依る。 * メモリ: Bで表わす。ピンキリだが1GB ~ 128GBくらい？ * ディスクIO: Bpsで表わす。HDDなら 100Bpsとか。SSDなら10倍くらい。 テキトーに調べたので間違ってるかも === # 誰が何を --------- * リバースプロキシ: ネットワーク、メモリ、CPUなど * アプリケーションサーバl: CPU、メモリなど * データベース: CPU、ディスクIOなど === 「CPUは100%に行ってないのにアプリケーションが遅いんだよ」 === # 誤り ------ * ボトルネックはCPUとは限らない * 他のメトリクスも一緒に見るべき === # 推測するな。計測せよ --------------------- * 実際に測ってみないとどこがボトルネックか分からない * 何をしてどれくらいパフォーマンスが上がったのかも分からない + コストパフォーマンスも重要 === 「パフォーマンスが悪いからCPUをグレードアップしよう」 === # 誤り ------ * ボトルネックはCPUとは限らない * 例えばネットワーク帯域が詰まっているのにCPUを改善しても意味がない * 帯域が詰まってるならデータを減らす、NIC（マシン）を増やすなどをする === 「多分アプリケーションを高速化したよ」 === # 誤り ------ * 計測せずに高速化しても意味がない + テストの無いリファクタリングがただの破壊なのと同じ * 高速化した気になって実際はコードが汚なくなっただけの可能性もある === # ボトルネックは変わりうる ------------------------ * 一箇所をずっと改善してても意味がない * ある程度改善したら次のリソースの限界がきてるかもしれない === 「アプリケーションを10倍高速化したのにあんまり速くなってない」 === # 誤り ------ * 10倍くらい極端に高速化すると次のリソースがボトルネックになる * ディスクやネットワークの改善を考えるべき === # リソースの食い合い ------------------- * 1マシンで完結している場合、リソースの食い合いが発生しうる + リバースプロキシとアプリケーションがCPUを食い合うとか * この時、どのようにして解決するのが適切か？ === # 例題 ------ * アプリが80%くらいの負荷 * Rプロキシが20%くらいの負荷 === # 例題 ------ 1.</description>
    </item>
    
    <item>
      <title>#isucon で学生賞二連覇してきた</title>
      <link>//KeenS.github.io/blog/2014/11/09/isucondexue-sheng-shang-er-lian-ba-sitekita/</link>
      <pubDate>Sun, 09 Nov 2014 00:00:00 +0000</pubDate>
      
      <guid>//KeenS.github.io/blog/2014/11/09/isucondexue-sheng-shang-er-lian-ba-sitekita/</guid>
      <description>&lt;p&gt;κeenです。@nemunemu3desuさん（ねむさん）、@cocodripsさん（くーむさん）とチーム「(ρ_-)/超銀杏バスターズ&amp;#92;(･ω･ o)」で&lt;a href=&#34;http://isucon.net/&#34;&gt;ISUCON4&lt;/a&gt;で学生賞とってきた。二連覇わーい。

※2014-11-09 16:50 ちょっと加筆修正しました&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>#ISUCON 4 予選に学生枠で参加してきました</title>
      <link>//KeenS.github.io/blog/2014/09/30/isucon4-q/</link>
      <pubDate>Tue, 30 Sep 2014 00:51:30 +0000</pubDate>
      
      <guid>//KeenS.github.io/blog/2014/09/30/isucon4-q/</guid>
      <description>&lt;p&gt;κeenです。ISUCON 4 予選に学生枠で参加してきたのでレポートです。日曜、2日目の方に参加です。
&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>isucon夏期講習2014に参加してきた</title>
      <link>//KeenS.github.io/blog/2014/08/21/isucon-summer-2014/</link>
      <pubDate>Thu, 21 Aug 2014 00:00:00 +0000</pubDate>
      
      <guid>//KeenS.github.io/blog/2014/08/21/isucon-summer-2014/</guid>
      <description>&lt;p&gt;レポート締切間近のκeenです。ISUCON夏期講習2014に参加してきたのでレポートです。とはいっても去年の夏期講習もISUCONも参加してるので目新しいことはないんですが。主な目的はメンバー集めです。
&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>チーム「銀杏絶滅しろ」でisucon学生賞もらってきました</title>
      <link>//KeenS.github.io/blog/2013/11/11/isucon-final-stage/</link>
      <pubDate>Mon, 11 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>//KeenS.github.io/blog/2013/11/11/isucon-final-stage/</guid>
      <description>&lt;p&gt;しばらく間が空きました。まあ、その間のことはいつかまとめて書きます。今回は &lt;a href=&#34;http://isucon.net/&#34;&gt;isucon#3&lt;/a&gt;について。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;//KeenS.github.io/blog/2013/10/09/isucon-qualifying-event/&#34;&gt;先日&lt;/a&gt;、isucon#3の予選を突破したと書きましたが、日曜にその決勝戦があったので報告です。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>ISUCON#3予選に参加しました</title>
      <link>//KeenS.github.io/blog/2013/10/09/isucon-qualifying-event/</link>
      <pubDate>Wed, 09 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>//KeenS.github.io/blog/2013/10/09/isucon-qualifying-event/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://isucon.net/&#34;&gt;ISUCON&lt;/a&gt;#3の予選に参加してきた話です。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>