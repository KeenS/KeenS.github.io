<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>小ネタ on κeenのHappy Hacκing Blog</title>
    <link>http://KeenS.github.io/categories/%E5%B0%8F%E3%83%8D%E3%82%BF/</link>
    <description>Recent content in 小ネタ on κeenのHappy Hacκing Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 03 Mar 2015 21:30:13 +0900</lastBuildDate>
    <atom:link href="http://KeenS.github.io/categories/%E5%B0%8F%E3%83%8D%E3%82%BF/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Lispエイリアンの矢印作った</title>
      <link>http://keens.github.io/blog/2015/03/03/lispeiriannoyajirushitsukutta</link>
      <pubDate>Tue, 03 Mar 2015 21:30:13 +0900</pubDate>
      
      <guid>http://keens.github.io/blog/2015/03/03/lispeiriannoyajirushitsukutta</guid>
      <description>&lt;p&gt;κeenです。勉強会などで役立ちそうなLispエイリアンの矢印を作りました。&lt;/p&gt;

&lt;p&gt;Lispエイリアンの元データは&lt;a href=&#34;http://www.lisperati.com/logo.html&#34;&gt;こちら&lt;/a&gt;でPNGやSVGで公開されているのでInkscapeの練習がてらそれをいじりました。&lt;/p&gt;

&lt;p&gt;どうぞ&lt;br /&gt;
&lt;img src=&#34;http://KeenS.github.io/images/lisplogo_alien_arrow.svg&#34; alt=&#34;lisplogo_alien_arrow.svg&#34; /&gt;
&lt;br /&gt;
&lt;a href=&#34;http://KeenS.github.io/images/lisplogo_alien_arrow.svg&#34;&gt;lisplogo_alien_arrow.svg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ライセンスは元データに倣ってパブリックドメインとします。&lt;/p&gt;

&lt;p&gt;PNG形式のもの必要…ですか？&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>印刷フォマット済みのテキストファイルをPDF化する</title>
      <link>http://keens.github.io/blog/2015/01/24/a2pdf</link>
      <pubDate>Sat, 24 Jan 2015 10:23:00 +0000</pubDate>
      
      <guid>http://keens.github.io/blog/2015/01/24/a2pdf</guid>
      <description>&lt;p&gt;小ネタ。古いドキュメントやらポータブルな仕様を落としてくると中身が印刷フォーマット済み(ページネーションやヘッダ、フッタをアスキーアートで表現してる)であることがあります。
それらを普通のテキスト形式だと読みづらいのでPDF化する話。&lt;/p&gt;

&lt;p&gt;結論から言うと&lt;a href=&#34;http://search.cpan.org/~jonallen/a2pdf-1.11/lib/Script/a2pdf.pm&#34;&gt;a2pdf - search.cpan.org&lt;/a&gt;を使いました。選んだ理由は&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;余計な装飾を付与しない&lt;/li&gt;
&lt;li&gt;&lt;code&gt;^L&lt;/code&gt;(pagebreak)でちゃんと改ページする&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;です。使い方は&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ a2pdf --noheader --noperl-syntax --noline-numbers  foo.txt -o foo.pdf
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でok。本当は&lt;code&gt;--nofooter&lt;/code&gt;も付けたいんですがそれつけるとエラー出たのでやむなくフッタは甘受。元々perlのソースコードをPDF化するためのものらしく、デフォルトでそのような設定になってるので無効化する必要があります。&lt;/p&gt;

&lt;p&gt;生成速度なんですけどPDF化すると105ページあるテキストの変換に73秒かかりました。少し遅いですね。このくらいだったらサクっとCommon Lispで書いてしまった方が速かったのかなぁ。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MathJaxを使って数式を埋め込む</title>
      <link>http://keens.github.io/blog/2014/02/21/mathjax</link>
      <pubDate>Fri, 21 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>http://keens.github.io/blog/2014/02/21/mathjax</guid>
      <description>&lt;p&gt;小ネタです。ブログに数式を埋め込むときの話。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt;はHTMLに$\LaTeX$の式を埋め込んでJavaScriptでMathMLに変換するプロジェクトみたいです。&lt;/p&gt;

&lt;p&gt;Octopressで使うには&lt;code&gt;(ocotpressroot)/source/_includes/custom/head.html&lt;/code&gt;に&lt;/p&gt;

&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;
&lt;td class=&#34;gutter&#34;&gt;&lt;pre class=&#34;line-numbers&#34;&gt;&lt;span class=&#34;line-number&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;line-number&#34;&gt;2&lt;/span&gt;
&lt;span class=&#34;line-number&#34;&gt;3&lt;/span&gt;
&lt;span class=&#34;line-number&#34;&gt;4&lt;/span&gt;
&lt;span class=&#34;line-number&#34;&gt;5&lt;/span&gt;
&lt;span class=&#34;line-number&#34;&gt;6&lt;/span&gt;
&lt;span class=&#34;line-number&#34;&gt;7&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;&#34;&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;script type=&#34;text/x-mathjax-config&#34;&amp;gt;
&lt;/span&gt;&lt;span class=&#34;line&#34;&gt; MathJax.Hub.Config({ tex2jax: { inlineMath: [[&#39;$&#39;,&#39;$&#39;], [&#34;\\(&#34;,&#34;\\)&#34;]] } });
&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/script&amp;gt;
&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;script type=&#34;text/javascript&#34;
&lt;/span&gt;&lt;span class=&#34;line&#34;&gt; src=&#34;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML&#34;&amp;gt;
&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/script&amp;gt;
&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;meta http-equiv=&#34;X-UA-Compatible&#34; CONTENT=&#34;IE=EmulateIE7&#34; /&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/figure&gt;

&lt;p&gt;を追加するだけです。&lt;/p&gt;

&lt;p&gt;数式を埋め込むには、上の設定だと&lt;code&gt;$数式$&lt;/code&gt;又は&lt;code&gt;\\\(数式\\\)&lt;/code&gt;でインライン、&lt;/p&gt;

&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;
&lt;td class=&#34;gutter&#34;&gt;&lt;pre class=&#34;line-numbers&#34;&gt;&lt;span class=&#34;line-number&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;line-number&#34;&gt;2&lt;/span&gt;
&lt;span class=&#34;line-number&#34;&gt;3&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;&#34;&gt;&lt;span class=&#34;line&#34;&gt;\\\[
&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;数式
&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;\\\]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/figure&gt;

&lt;p&gt;で別行立ての数式が書けます。markdownとコンフリクトするのでバックスラッシュのエスケープ大変ですね…。&lt;code&gt;\begin{eqnarray*}\end{eqnarray*}&lt;/code&gt;は無理なのかなあ&lt;/p&gt;

&lt;p&gt;インライン\(e^{i\pi} = -1\)&lt;/p&gt;

&lt;p&gt;別行\\[\lim_{n \to \infty} P(Z=l) = e^{–\lambda} \frac{ \lambda ^l}{l!}\]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>FreeBSDのmanページを手動インストールする</title>
      <link>http://keens.github.io/blog/2014/02/01/freebsd-manpage</link>
      <pubDate>Sat, 01 Feb 2014 00:00:00 +0000</pubDate>
      
      <guid>http://keens.github.io/blog/2014/02/01/freebsd-manpage</guid>
      <description>&lt;p&gt;FreeBSD10をインストールするときにdocをインストールしなかったら後で困ったのでメモ。環境はUbuntu13.10上のkvmに入れたFreeBSD10です。&lt;/p&gt;

&lt;p&gt;本来なら&lt;code&gt;sudo bsdconfig&lt;/code&gt;(9.xまでは&lt;code&gt;sudo sysinstall&lt;/code&gt;)でメニューを選んでいけばインストールできるのですが、&lt;code&gt;ping&lt;/code&gt;か何かがおかしくてサーバーの名前解決ができない。&lt;code&gt;ping FreeBSD.org&lt;/code&gt;や&lt;code&gt;ping 4.4.4.4&lt;/code&gt;が返ってこない。しかし&lt;code&gt;curl&lt;/code&gt;などは普通に動きます。&lt;/p&gt;

&lt;p&gt;とりあえず&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ftp anonymous@ftp.jp.freebsd.org
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でログインし、&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ftp&amp;gt; cd pub/FreeBSD/releases/i386/10.0-RELEASE
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;と進んで&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ftp&amp;gt; get doc.txz
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;します。んで&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ftp&amp;gt; bye
$ unxz -cd doc.txz | sudo tar xf - -C /
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でインストール完了。&lt;/p&gt;

&lt;p&gt;普通に配置するだけで良いんですね。mandbとかあるのかと思ってた。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Rsync小ネタ</title>
      <link>http://keens.github.io/blog/2013/11/30/something-about-rsync</link>
      <pubDate>Sat, 30 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>http://keens.github.io/blog/2013/11/30/something-about-rsync</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://KeenS.github.io/blog/2013/11/13/what-recent/&#34;&gt;mpdを導入したとき&lt;/a&gt;にrsyncでパーミッションの問題が発生したと言ってましたが解決策がありました。&lt;/p&gt;

&lt;p&gt;まず基本。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;rsync&lt;/code&gt;でバックアップをとるときは&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rsync -avz dir/ me@remote:backup
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;です。&lt;code&gt;dir&lt;/code&gt;のあとの&lt;code&gt;/&lt;/code&gt;は重要です。&lt;code&gt;dir&lt;/code&gt;自体か&lt;code&gt;dir&lt;/code&gt;の中身かを左右します。&lt;code&gt;zsh&lt;/code&gt;はそこんとこイマイチ理解してないようで悲しいです。因みに&lt;code&gt;-a&lt;/code&gt;は&lt;code&gt;-rltogpD&lt;/code&gt;の略です。でも今回みたいにパーミッションを含めたくないときは&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rsync -rltogD -vz dir/ me@remote:backup
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;と&lt;code&gt;-p&lt;/code&gt;を抜くかと思いきや、&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rsync -avz --no-p dir/ me@remote:backup
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;なる記法があるそうです。便利ですね。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Tiarraにercで接続したときの/loadの問題</title>
      <link>http://keens.github.io/blog/2013/10/06/tiarra-erc</link>
      <pubDate>Sun, 06 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>http://keens.github.io/blog/2013/10/06/tiarra-erc</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.clovery.jp/tiarra/&#34;&gt;tiarra&lt;/a&gt;に &lt;a href=&#34;http://www.emacswiki.org/ERC&#34;&gt;erc&lt;/a&gt;で接続したときの/loadの問題。&lt;/p&gt;

&lt;p&gt;tiarraは有名なircプロキシ。ercはEmacs上で動くircクライアント。これらを使っているとtiarraが自動でログインしてくれないのでおかしいなと思っていたらtiarraの自動ログインモジュールを有効にしていなかった模様。&lt;/p&gt;

&lt;p&gt;書き換えていざ設定を反映しようとすると若干困りました。どこに&lt;code&gt;/load&lt;/code&gt;と打てばいいんだろ。&lt;/p&gt;

&lt;p&gt;最初に誘導されるバッファ(ircバッファ名がプロキシサーバー名になってるやつ)に&lt;code&gt;/load&lt;/code&gt;と打つと&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ERC&amp;gt; /load
Incorrect arguments. Usage:
/LOAD line
Load the script provided in the LINE.
If LINE continues beyond the file name, the rest of
it is put in a (local) variable `erc-script-args&#39;,
which can be used in Emacs Lisp scripts.


The optional FORCE argument is ignored here - you can&#39;t force loading
a script after exceeding the flood threshold.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ですって。ああ…。&lt;code&gt;/load&lt;/code&gt;コマンドがercに食われてる…&lt;/p&gt;

&lt;p&gt;流石に解決策あるだろって思って調べたら&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/quote load
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;だそうです。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ERC&amp;gt; /quote load
-192.168.1.4- *** Reloaded configuration file.
-192.168.1.4- *** Module Channel::Join::Connect will be loaded newly.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;はい。ちゃんとloadしてくれました。&lt;/p&gt;

&lt;p&gt;以上小ネタでした。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>FreeBSD10でちょっとこけた</title>
      <link>http://keens.github.io/blog/2013/09/12/error-on-svn</link>
      <pubDate>Thu, 12 Sep 2013 00:00:00 +0000</pubDate>
      
      <guid>http://keens.github.io/blog/2013/09/12/error-on-svn</guid>
      <description>

&lt;p&gt;FreeBSD10をインストールしてたときにちょっとつまったところがあったのでメモ。&lt;/p&gt;

&lt;h2 id=&#34;前回までのあらすじ:7ac0697a98245cbbb72c3d8b1334b9b1&#34;&gt;(前回までのあらすじ)&lt;/h2&gt;

&lt;p&gt;FreeBSD10をインストールしたkvmのイメージでFreeBSDのソースをコンパイルできなくなっていたのでκeenはイメージに最新のFreeBSDを上書きインストールすることを決意したのであった&lt;/p&gt;

&lt;h2 id=&#34;今回:7ac0697a98245cbbb72c3d8b1334b9b1&#34;&gt;今回&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://pub.allbsd.org/FreeBSD-snapshots/&#34;&gt;https://pub.allbsd.org/FreeBSD-snapshots/&lt;/a&gt;から最新版isoをダウンロードして&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kvm -cdrom ~/Download/FreeBSD-10.0-HEAD-r255472-JPSNAP-i386-i386-disc1.iso -boot d -m 2048 -smp 3 FreeBSD10.img
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でブート&amp;amp;インストール。普通にインストーラに従って問題無し。&lt;br /&gt;
もう一度&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ kvm -m 2048 -smp 3 FreeBSD10.img
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でブート。&lt;code&gt;/usr/src&lt;/code&gt;が空なのを確認して、最近標準添付になったsvnliteでソースをチェックアウト。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# cd /usr
# rmdir src
# svnlite co https://svn0.us-west.FreeBSD.org/base/head src
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;で、エラー。&lt;br /&gt;
内容は&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;server sent a truncated http response body.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;不明。&lt;code&gt;svn(lite)&lt;/code&gt;のエラーらしいことは分った。&lt;code&gt;https:&lt;/code&gt;が悪い気がするので&lt;code&gt;http:&lt;/code&gt;にしようかと思ったけど、ふとダメ元で以前はできなかった&lt;code&gt;svn:&lt;/code&gt;のスキーマにしてみた。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# svnlite co svn://svn0.us-west.FreeBSD.org/base/head src
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;できた。なんだよ。&lt;/p&gt;

&lt;h3 id=&#34;蛇足:7ac0697a98245cbbb72c3d8b1334b9b1&#34;&gt;蛇足&lt;/h3&gt;

&lt;p&gt;このあと&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# svnlite co svn://svn0.us-west.FreeBSD.org/ports/head ports
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;でportsもチェックアウトしましたよ&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>